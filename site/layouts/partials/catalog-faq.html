{{ $catalogQuestions := slice (dict "question" "Для яких типів дронів найкраще підходить польотний стек KARMA F405 V1?"
"answer" "Ідеально підходить для мікро- та невеликих FPV-дронів, а також для легких 3-дюймових або для деяких 4-дюймовихквадрокоптерів.")
(dict "question" "Для яких типів дронів найкраще підходить польотний стек KARMA F405 V1?" "answer" "Ідеально підходить для мікро- та невеликих FPV-дронів, а також для легких 3-дюймових або деяки 4-дюймових квадрокоптерів.")
(dict "question" "Для яких типів дронів найкраще підходить польотний стек KARMA F405 V1?" "answer" "Ідеально підходить для мікро- та невеликих FPV-дронів, а також для легких 3-дюймових або деяки 4-дюймових квадрокоптерів.")
(dict "question" "Для яких типів дронів найкраще підходить польотний стек KARMA F405 V1?" "answer" "Ідеально підходить для мікро- та невеликих FPV-дронів, а також для легких 3-дюймових або деяки 4-дюймових квадрокоптерів.") }}

<section class="relative flex flex-col items-center bg-white mt-[clamp(40px,6vw,112px)] mb-[clamp(40px,6vw,128px)]">
  <div class="w-full max-w-[1237px] px-[clamp(20px,4vw,40px)]">
    <h3
      class="hero-title font-[Unbounded] font-medium text-[clamp(20px,3vw,48px)] text-center text-[#020303] mb-[clamp(20px,3vw,24px)] uppercase">
      Найпоширеніші запитання про політні стеки
    </h3>
    <div class="w-full mx-auto flex flex-col gap-[clamp(20px,3vw,30px)] max-w-[1237px]" data-accordion-list>
      {{ range $catalogQuestions }}
      <div class="accordion-wrapper">
        <details class="accordion-root group border-b border-[#303030]">
          <summary class="flex cursor-pointer select-none accordion-summary">
            <h4 class="font-[Montserrat] text-[clamp(16px,2vw,24px)] font-medium catalog-accordion-question-text">
              {{ .question }}
            </h4>
            <img src="/img/arrow.svg" alt="Arrow" width="20" height="20" class="accordion-icon" />
          </summary>
          <div class="accordion-content">
            <p class="font-[Montserrat] text-[clamp(16px,2vw,20px)] font-normal text-[#1f2937]">
              {{ .answer }}
            </p>
          </div>
        </details>
      </div>
      {{ end }}
    </div>
  </div>
</section>

<style>
  .accordion-wrapper {
    width: 100%;
  }


  .accordion-root {
    max-width: 100%;
    margin: 0 auto;
  }

  .accordion-summary {
    position: relative !important;
    display: flex !important;
    align-items: center !important;
    padding: clamp(12px, 2vw, 19px) clamp(20px, 4vw, 45px) !important;
    transition: background-color 400ms ease, color 400ms ease !important;
    background: #fff !important;
    color: #020303 !important;
    cursor: pointer;
    min-height: clamp(60px, 8vw, 80px) !important;
  }

  .accordion-summary::-webkit-details-marker {
    display: none;
  }

  .accordion-summary::marker {
    content: '';
  }

  .accordion-root[open] .accordion-summary {
    background: #ba0108 !important;
    color: #fff !important;
  }

  .accordion-icon {
    margin-left: auto !important;
    width: clamp(20px, 3vw, 33px) !important;
    height: clamp(12px, 2vw, 18px) !important;
    transform: rotate(0deg) !important;
    transition: transform 500ms ease-in-out, filter 300ms ease-in-out !important;
    filter: brightness(0) !important;
  }

  .accordion-root[open] .accordion-icon {
    transform: rotate(-180deg) !important;
    filter: brightness(0) invert(1) !important;
  }

  .accordion-root::details-content {
    transition: block-size 600ms, content-visibility 600ms allow-discrete !important;
    overflow: hidden !important;
    block-size: 0 !important;
    inline-size: 100% !important;
    content-visibility: hidden !important;
  }

  .accordion-root[open]::details-content {
    block-size: auto !important;
    content-visibility: visible !important;
  }

  .accordion-content {
    overflow: visible !important;
    max-height: none !important;
    opacity: 1 !important;
    transition: none !important;
    width: 100% !important;
    padding: clamp(8px, 2vw, 12px) clamp(20px, 4vw, 46px) !important;
  }

  @media (max-width: 1240px) {
    .accordion-summary {
      padding-left: 24px !important;
      padding-right: 24px !important;
    }
  }

  @media (max-width: 960px) {
    .accordion-summary {
      padding-left: 20px !important;
      padding-right: 20px !important;
    }
  }

  @media (max-width: 800px) {
    .accordion-summary {
      padding-left: 16px !important;
      padding-right: 16px !important;
    }
  }

  @media (max-width: 1024px) {
    .accordion-summary {
      padding-left: clamp(16px, 3vw, 20px) !important;
      padding-right: clamp(16px, 3vw, 20px) !important;
      min-height: clamp(60px, 8vw, 70px) !important;
    }

    .accordion-content {
      padding: clamp(8px, 2vw, 10px) clamp(16px, 3vw, 20px) !important;
    }

    .accordion-icon {
      width: clamp(20px, 3vw, 25px) !important;
      height: clamp(12px, 2vw, 15px) !important;
    }
  }

  @media (max-width: 560px) {
    .accordion-wrapper {
      margin: 0 auto !important;
    }

    .accordion-root {
      max-width: 100% !important;
      padding-left: 0 !important;
      padding-right: 0 !important;
    }

    .accordion-content {
      padding: clamp(8px, 2vw, 10px) !important;
    }

    .accordion-summary {
      padding-left: clamp(12px, 3vw, 16px) !important;
      padding-right: clamp(12px, 3vw, 16px) !important;
      padding-block: clamp(12px, 3vw, 16px) !important;
    }

    .accordion-icon {
      align-self: flex-start !important;
      margin-top: 0 !important;
    }

    .catalog-accordion-question-text {
      text-align: left !important;
    }
  }

  @keyframes fadeInUp {
    0% {
      opacity: 0;
      transform: translateY(30px);
    }

    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .hero-title {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.6s ease-out;
  }

  .hero-title.animate {
    animation: fadeInUp 0.8s ease-out forwards;
  }
</style>

<script>
  (function () {
    var lists = document.querySelectorAll('[data-accordion-list]');
    lists.forEach(function (list) {
      var items = Array.prototype.slice.call(
        list.querySelectorAll('.accordion-root')
      );
      items.forEach(function (item) {
        item.addEventListener('toggle', function () {
          if (item.open) {
            items.forEach(function (other) {
              if (other !== item) {
                other.open = false;
              }
            });
          }
        });
      });
    });
  })();

  // Hero title animation
  function animateHeroTitle() {
    const heroTitles = document.querySelectorAll('.hero-title');

    const observerOptions = {
      threshold: 0.3,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate');
        } else {
          entry.target.classList.remove('animate');
        }
      });
    }, observerOptions);

    heroTitles.forEach(title => {
      observer.observe(title);
    });
  }

  // Initialize when DOM is loaded
  document.addEventListener('DOMContentLoaded', animateHeroTitle);
</script>