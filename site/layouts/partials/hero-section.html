<section class="bg-white min-h-[600px] relative  py-16 max-[450px]:py-0 flex justify-center items-center  z-[20] ">
  <!-- Background decorative elements -->
  {{ $bgEl1 := resources.Get "img/bg-el-1.png" }}
  {{ if $bgEl1 }}
  {{ $bgEl1Processed := $bgEl1.Resize "201x185 webp q75" }}
  <img src="{{ $bgEl1Processed.RelPermalink }}" alt="" aria-hidden="true"
    class="absolute z-[1] overflow-hidden top-0 right-0 max-[450px]:top-[-30px] max-[450px]:right-[-44px] lg:w-[350px] md:w-[250px] sm:w-[150px] max-[450px]:w-[201px] max-[450px]:h-[185px] h-auto"
    width="201" height="185" loading="lazy" />
  {{ else }}
  <img src="/img/bg-el-1.png" alt="" aria-hidden="true"
    class="absolute z-[1] overflow-hidden top-0 right-0 max-[450px]:top-[-30px] max-[450px]:right-[-44px] lg:w-[350px] md:w-[250px] sm:w-[200px] max-[450px]:w-[201px] max-[450px]:h-[185px] h-auto"
    width="201" height="185" loading="lazy" />
  {{ end }}

  {{ $bgEl2 := resources.Get "img/bg-el-2.png" }}
  {{ if $bgEl2 }}
  {{ $bgEl2Processed := $bgEl2.Resize "171x199 webp q75" }}
  <img src="{{ $bgEl2Processed.RelPermalink }}" alt="" aria-hidden="true"
    class="hero-bg-el-2 absolute z-[10] bottom-0 left-0 hidden sm:block lg:w-[320px] md:w-[250px] sm:w-[200px] h-auto"
    width="171" height="199" loading="lazy" />
  {{ else }}
  <img src="/img/bg-el-2.png" alt="" aria-hidden="true"
    class="hero-bg-el-2 absolute z-[10] bottom-0 left-0 hidden sm:block lg:w-[320px] md:w-[250px] sm:w-[200px] h-auto"
    width="171" height="199" loading="lazy" />
  {{ end }}


    <!-- bg-el-2: тільки mobile -->
    {{ $bgEl2 := resources.Get "img/bg-el-2.png" }}
    {{ if $bgEl2 }}
    {{ $bgEl2Processed := $bgEl2.Resize "171x199 webp q75" }}
    <img src="{{ $bgEl2Processed.RelPermalink }}" alt="" aria-hidden="true"
      class="about-bg-el-2 absolute z-[21] bottom-[calc(var(--spacing)*-21)] left-[-32px] hidden max-[640px]:block w-[171px] h-[199px] rotate-[34deg]"
      width="171" height="199" loading="lazy" />
    {{ else }}
    <img src="/img/bg-el-2.png" alt="" aria-hidden="true"
      class="about-bg-el-2 absolute z-[21] top-[calc(var(--spacing)*-21)] left-[-48px] hidden max-[640px]:block w-[171px] h-[199px] rotate-[34deg]"
      width="171" height="199" loading="lazy" />
    {{ end }}

  <!-- Mobile stack elements -->
  <div class="block sm:hidden lg:hidden">
    {{ $stackLeft := resources.Get "img/stack-left.png" }}
    {{ if $stackLeft }}
    {{ $stackLeftProcessed := $stackLeft.Resize "298x webp q75" }}
    <div class="absolute top-[-15px] left-[-90px] w-[298px] h-[257px] z-[10]">
      <img src="{{ $stackLeftProcessed.RelPermalink }}" alt="Елемент стеку зліва" aria-hidden="true" width="298" height="257"
        class="object-contain w-full h-full" loading="lazy" />
    </div>
    
    <svg width="125" height="184" viewBox="0 0 125 184" fill="none" xmlns="http://www.w3.org/2000/svg"
      class="absolute [bottom:calc(var(--spacing)*40)] left-0 z-0">
      <g filter="url(#filter0_f_51_312)">
        <ellipse cx="139" cy="24" rx="139" ry="24" transform="matrix(-1 0 0 1 57 68)" fill="#020303"
          fill-opacity="0.3" />
      </g>
      <defs>
        <filter id="filter0_f_51_312" x="-288.3" y="0.7" width="412.6" height="182.6" filterUnits="userSpaceOnUse"
          color-interpolation-filters="sRGB">
          <feFlood flood-opacity="0" result="BackgroundImageFix" />
          <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape" />
          <feGaussianBlur stdDeviation="33.65" result="effect1_foregroundBlur_51_312" />
        </filter>
      </defs>
    </svg>
    {{ else }}
    <img src="/img/stack-left.png" alt="Елемент стеку зліва" aria-hidden="true" width="247" height="257"
      class="object-contain w-full h-full" loading="lazy" />

    {{ end }}

    {{ $stackRight := resources.Get "img/stack-right.png" }}
    {{ if $stackRight }}
    {{ $stackRightProcessed := $stackRight.Resize "344x webp q75" }}
      <div class="absolute bottom-[-7px] right-[-69px] w-[344px] h-[332px] z-[10] flex items-center justify-center">
        <img src="{{ $stackRightProcessed.RelPermalink }}" alt="Елемент стеку справа" aria-hidden="true"
          class="object-contain w-full h-full" loading="lazy" />
      </div>
    <svg width="252" height="184" viewBox="0 0 252 184" fill="none" xmlns="http://www.w3.org/2000/svg"
      class="absolute [bottom:calc(12px*-12)] right-0 z-0">
      <g filter="url(#filter0_f_51_309)">
        <ellipse cx="207" cy="92" rx="139" ry="24" fill="#020303" fill-opacity="0.3" />
      </g>
      <defs>
        <filter id="filter0_f_51_309" x="0.7" y="0.7" width="412.6" height="182.6" filterUnits="userSpaceOnUse"
          color-interpolation-filters="sRGB">
          <feFlood flood-opacity="0" result="BackgroundImageFix" />
          <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape" />
          <feGaussianBlur stdDeviation="33.65" result="effect1_foregroundBlur_51_309" />
        </filter>
      </defs>
    </svg>
    {{ else }}
    <img src="/img/stack-right.png" alt="Елемент стеку справа" aria-hidden="true"
      class="absolute bottom-[22px] right-[-16px] z-[1]" loading="lazy" />
    {{ end }}
  </div>

  <!-- Content  -->
  <div class="hidden lg:block max-w-[1440px] xl:max-w-[1600px] mx-auto pt-[40px] mb-[64px] relative z-[2] px-8">
    <div class="flex items-center justify-between gap-12 xl:gap-16">
      <div class="flex flex-col gap-5 flex-1 max-w-[600px] xl:max-w-[700px]">
        <div class="font-bold leading-[1.1] text-black mb-2 hero-title">
          <span class="font-['Unbounded'] text-[#ba0108] block text-[56px] xl:text-[64px] leading-[1.1] mb-2">
            KARMA FLIGHTS
          </span>
          <span class="font-['Unbounded'] text-black text-[36px] xl:text-[40px] leading-[1.1]">
            НЕ ШУКАЙ КОМПРОМІСІВ
          </span>
        </div>
        <p class="font-['Unbounded'] text-lg xl:text-xl font-[300] text-black mb-8">
          Високотехнологічне українське виробництво
        </p>
      </div>

      <div class="relative items-center justify-center flex-shrink-0 hidden lg:flex">
        {{ $stackDesktop := resources.Get "img/stack.png" }}
        {{ if $stackDesktop }}
        {{ $stackDesktopProcessed := $stackDesktop.Resize "400x400 webp q85" }}
        <img src="{{ $stackDesktopProcessed.RelPermalink }}"
          alt="Karma Flights - високотехнологічне українське виробництво" width="400" height="400"
          class="w-auto h-auto max-w-[400px] xl:max-w-[500px] max-h-[400px] xl:max-h-[500px] object-contain"
          fetchpriority="high" />
        {{ else }}
        <img src="/img/stack.png" alt="Karma Flights - високотехнологічне українське виробництво" width="400"
          height="400"
          class="w-auto h-auto max-w-[400px] xl:max-w-[500px] max-h-[400px] xl:max-h-[500px] object-contain"
          fetchpriority="high" />
        {{ end }}
      </div>
    </div>
  </div>

  <!-- Mobile & Tablet Layout -->
  <div class="block lg:hidden mx-auto w-full relative z-[2] py-8">
    <div class="flex flex-col items-center text-center">
      <div class="font-bold leading-[1.1] text-black mb-6 hero-title">
        <span
          class="font-['Unbounded'] text-[#ba0108] block text-[32px] sm:text-[40px] md:text-[48px] leading-[1.1] mb-2">
          KARMA FLIGHTS
        </span>
        <span class="font-['Unbounded'] text-black text-[20px] sm:text-[24px] md:text-[32px] leading-[1.1]">
          НЕ ШУКАЙ КОМПРОМІСІВ
        </span>
      </div>
      <p class="font-['Unbounded'] text-[16px] sm:text-[18px] md:text-[20px] font-[300] text-black mb-8">
        Високотехнологічне українське виробництво
      </p>
    </div>
  </div>
</section>
<style>
  @keyframes fadeInUp {
    0% {
      opacity: 0;
      transform: translateY(30px);
    }

    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .hero-title {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.6s ease-out;
  }

  .hero-title.animate {
    animation: fadeInUp 0.8s ease-out forwards;
  }

  @media (max-width: 639px) {
    .hero-bg-el-2 {
      display: none !important;
    }
  }
</style>

<script>
  // Hero title animation
  function animateHeroTitle() {
    const heroTitles = document.querySelectorAll('.hero-title');

    const observerOptions = {
      threshold: 0.3,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate');
        } else {
          entry.target.classList.remove('animate');
        }
      });
    }, observerOptions);

    heroTitles.forEach(title => {
      observer.observe(title);
    });
  }

  document.addEventListener('DOMContentLoaded', animateHeroTitle);
</script>