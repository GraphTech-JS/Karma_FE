<section class="bg-white min-h-[300px]  md:min-h-[500px] relative overflow-hidden flex justify-center items-center">
  <!-- Background decorative elements -->
  {{ $bgEl1 := resources.Get "img/bg-el-1.png" }}
  {{ if $bgEl1 }}
  {{ $bgEl1Processed := $bgEl1.Resize "420x webp q80" }}
  <img src="{{ $bgEl1Processed.RelPermalink }}" alt="Декоративний фоновий елемент" aria-hidden="true"
    class="absolute z-[1] right-[-40px] lg:right-[-14px] xl:right-0 top-[-42px] md:top-[-65px] lg:top-[-60px] xl:top-0 w-[201px] h-[185px] md:w-[325px] md:h-[298px] lg:w-[325px] lg:h-[298px]" />
  {{ else }}
  <img src="/img/bg-el-1.png" alt="Декоративний фоновий елемент" aria-hidden="true"
    class="absolute z-[1] right-[-40px] lg:right-[-14px] xl:right-0 top-[-42px] md:top-[-65px] lg:top-[-60px] xl:top-0 w-[201px] h-[185px] md:w-[325px] md:h-[298px] lg:w-[325px] lg:h-[298px]" />
  {{ end }}

  {{ $bgEl2 := resources.Get "img/bg-el-2.png" }}
  {{ if $bgEl2 }}
  {{ $bgEl2Processed := $bgEl2.Resize "420x webp q80" }}
  <img src="{{ $bgEl2Processed.RelPermalink }}" alt="Декоративний фоновий елемент" aria-hidden="true"
    class="absolute z-[1]  hidden md:block bottom-0 left-0 w-[171px] h-[199px] md:w-[217px] md:h-[253px] lg:w-[266px] lg:h-[310px] xl:w-[340px] xl:h-[360px]" />
  {{ else }}
  <img src="/img/bg-el-2.png" alt="Декоративний фоновий елемент" aria-hidden="true"
    class="absolute z-[1] hidden md:block bottom-0 left-0 w-[171px] h-[199px] md:w-[217px] md:h-[253px] lg:w-[266px] lg:h-[310px] xl:w-[340px] xl:h-[360px]" />
  {{ end }}


  <!-- Content (desktop + mobile як було) -->
  <div class="hidden md:block  mx-auto relative z-[2] pl-[40px]">
    <div class="flex justify-between items-center">
      <div class="flex flex-col gap-[35px] flex-1">
        <div class="flex flex-col">
          <h1
            class="font-['Unbounded'] font-bold text-[#ba0108] md:text-[48px] lg:text-[64px] leading-[1.1] mb-2 hero-title">
            KARMA FLIGHTS
          </h1>
          <h2 class="font-['Unbounded'] text-black text-[32px] lg:text-[40px] font-medium leading-[1.1] mb-4">
            НЕ ШУКАЙ КОМПРОМІСІВ
          </h2>
        </div>
        <p class="font-['Unbounded'] text-[20px] font-light text-black mb-8">
          Високотехнологічне українське виробництво
        </p>
      </div>

      <div class="hidden relative flex-shrink-0 justify-center items-center md:flex">
        {{ $stackDesktop := resources.Get "img/stack.png" }}
        {{ if $stackDesktop }}
        {{ $stackDesktopProcessed := $stackDesktop.Resize "400x400 webp q85" }}
        <img src="{{ $stackDesktopProcessed.RelPermalink }}"
          alt="Karma Flights - високотехнологічне українське виробництво" width="400" height="400"
          class="h-auto w-[400px] xl:w-[602px] object-contain" fetchpriority="high" />
        {{ else }}
        <img src="/img/stack.png" alt="Karma Flights - високотехнологічне українське виробництво" width="400"
          height="400" class="h-auto w-[400px] xl:w-[602px] object-contain" fetchpriority="high" />
        {{ end }}
      </div>
    </div>
  </div>

  <!-- Mobile & Tablet Layout -->
  <div class="block md:hidden mx-auto w-full relative z-[2] mt-auto">
    <div class="flex flex-col items-center text-center">
      <div class="font-bold leading-[1.1] text-black hero-title mb-[0px]">
        <span class="font-['Unbounded'] text-[#ba0108] block text-[32px] sm:text-[40px] md:text-[48px] leading-[100%]">
          KARMA FLIGHTS
        </span>
        <span class="font-['Unbounded'] text-black text-[20px] sm:text-[24px] md:text-[32px] leading-[100%]">
          НЕ ШУКАЙ КОМПРОМІСІВ
        </span>
      </div>
      <p class="font-['Unbounded'] text-[16px] sm:text-[18px] md:text-[20px] font-[300] text-black mb-8 px-[50px]">
        Високотехнологічне українське виробництво
      </p>
    </div>
  </div>
</section>
<style>
  @keyframes fadeInUp {
    0% {
      opacity: 0;
      transform: translateY(30px);
    }

    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .hero-title {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.6s ease-out;
  }

  .hero-title.animate {
    animation: fadeInUp 0.8s ease-out forwards;
  }

  /* Removed mobile hide rule so .hero-bg-el-2 can overlap following section on small screens */
</style>

<script>
  // Hero title animation
  function animateHeroTitle() {
    const heroTitles = document.querySelectorAll('.hero-title');

    const observerOptions = {
      threshold: 0.3,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate');
        } else {
          entry.target.classList.remove('animate');
        }
      });
    }, observerOptions);

    heroTitles.forEach(title => {
      observer.observe(title);
    });
  }

  document.addEventListener('DOMContentLoaded', animateHeroTitle);
</script>