{{ $title := .title }}
{{ $items := .items }}
{{ $className := .className | default "" }}
{{ $titleClassName := .titleClassName | default "" }}

<section class="relative flex flex-col items-center bg-white {{ $className }}">
    <div class="w-full max-w-[1237px] px-5">
        {{ if $title }}
        <h3 class="font-[Unbounded] font-medium lg:text-[40px] max-[420px]:text-[24px] text-center text-[#020303] mb-6 {{ $titleClassName }}">
            {{ $title }}
        </h3>
        {{ end }}
        <div class="w-full mx-auto flex flex-col gap-[30px] max-w-[600px] md:max-w-[740px] lg:max-w-[970px] xl:max-w-[1237px]"
            data-accordion-list>
            {{ range $items }}
            <div class="faq-acc-wrapper">
                <details class="faq-acc-root group border-b border-[#303030]">
                    <summary class="flex cursor-pointer select-none faq-acc-summary">
                        <h4 class=" font-[Montserrat] lg:text-[24px] max-[420px]:text-[16px] font-medium">{{ .question }}</h4>
                        <img src="/img/arrow.svg" alt="Arrow" width="20" height="20" class="faq-acc-icon" />
                    </summary>
                    <div class="faq-acc-content">
                        <p class="font-[Montserrat] lg:text-[18px] max-[420px]:text-[16px] font-normal text-[#1f2937]">
                            {{ .answer }}
                        </p>
                    </div>
                </details>
            </div>
            {{ end }}
        </div>
    </div>
</section>

<style>
    .faq-acc-wrapper {
        width: 100%;
    }

    .faq-acc-root {
        max-width: 100%;
        margin: 0 auto;
    }

    .faq-acc-summary {
        position: relative !important;
        display: flex !important;
        align-items: center !important;
        padding: 23px 45px !important;
        transition: background-color 400ms ease, color 400ms ease !important;
        background: #fff !important;
        color: #020303 !important;
        cursor: pointer;
        min-height: 80px !important;
    }

    .faq-acc-summary::-webkit-details-marker {
        display: none;
    }

    .faq-acc-summary::marker {
        content: '';
    }

    .faq-acc-root[open] .faq-acc-summary {
        background: #ba0108 !important;
        color: #fff !important;
    }

    .faq-acc-icon {
        margin-left: auto !important;
        width: 33px !important;
        height: 18px !important;
        transform: rotate(0deg) !important;
        transition: transform 500ms ease-in-out, filter 300ms ease-in-out !important;
        filter: brightness(0) !important;
    }

    .faq-acc-root[open] .faq-acc-icon {
        transform: rotate(-180deg) !important;
        filter: brightness(0) invert(1) !important;
    }

    .faq-acc-root::details-content {
        transition: block-size 600ms, content-visibility 600ms allow-discrete !important;
        overflow: hidden !important;
        block-size: 0 !important;
        inline-size: 100% !important;
        content-visibility: hidden !important;
    }

    .faq-acc-root[open]::details-content {
        block-size: auto !important;
        content-visibility: visible !important;
    }

    .faq-acc-content {
        overflow: visible !important;
        max-height: none !important;
        opacity: 1 !important;
        transition: none !important;
        width: 100% !important;
        padding: 12px 46px !important;
    }

 

    @media (max-width: 1240px) {
        .faq-acc-summary {
            padding-left: 24px !important;
            padding-right: 24px !important;
        }
    }

    @media (max-width: 960px) {
        .faq-acc-summary {
            padding-left: 20px !important;
            padding-right: 20px !important;
        }
    }

    @media (max-width: 800px) {
        .faq-acc-summary {
            padding-left: 16px !important;
            padding-right: 16px !important;
        }
    }

    @media (max-width: 560px) {
        .faq-acc-root {
            padding-left: 16px !important;
            padding-right: 16px !important;
            max-width: 100% !important;
        }

        .faq-acc-icon {
            display: none !important;
        }
    }
</style>

<script>
    (function () {
        var lists = document.querySelectorAll('[data-accordion-list]');
        lists.forEach(function (list) {
            var items = Array.prototype.slice.call(
                list.querySelectorAll('.faq-acc-root')
            );
            items.forEach(function (item) {
                item.addEventListener('toggle', function () {
                    if (item.open) {
                        items.forEach(function (other) {
                            if (other !== item) {
                                other.open = false;
                            }
                        });
                    }
                });
            });
        });
    })();
</script>