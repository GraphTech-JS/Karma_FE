<header class="bg-[#020303] h-[60px] md:h-[72px] lg:h-[82px] flex justify-center" role="banner">
  <!-- Responsive container -->
  <!-- Responsive container -->
  <div class="flex w-full max-w-[1280px] px-[20px] justify-between items-center nav-container py-5">
    <!-- Logo -->
    <a href="/" class="relative z-[10]" aria-label="Karma - головна сторінка">
      <img src="/logo.png" alt="logo" width="149" height="34" class="w-[108px] h-[25px] md:w-[149px] md:h-[34px]" />
    </a>
  
    <!-- Desktop Navigation -->
    <nav class="nav-container desktop-nav hidden items-center gap-[50px]" role="navigation" aria-label="Головне меню">
      <!-- Каталог -->
      <div class="relative dropdown-parent">
        <button
          class="nav-link lg:!font-['Inter'] cursor-pointer font-normal text-xl text-[#fefefe] hover:text-[#ba0108] transition-colors {{ if in .RelPermalink "/catalog" }}active{{ end }}" aria-expanded="false" aria-haspopup="true" aria-label="Каталог товарів">
          Каталог
        </button>
        <div class="dropdown-menu absolute left-[-50px] lg:left-[-80px] top-[30px] mt-3 bg-[#020303] rounded-b-[5px]"
          role="menu" aria-label="Підменю каталогу">
          <div class="flex flex-row w-full lg:flex-col">
            <a href="/catalog/politni-steky/"
              class="dropdown-item flex-1 px-8 py-6 text-[#fefefe] lg:font-['Inter'] text-lg font-medium hover:text-[#ba0108] transition-all duration-300 whitespace-nowrap {{ if eq .RelPermalink "/catalog/politni-steky/" }}active{{ end }}" role="menuitem">Політні стеки</a>
            <a href="/catalog/videoperedavachi-vtx/"
              class="dropdown-item flex-1 px-8 py-6 text-[#fefefe] lg:font-['Inter'] text-lg font-medium hover:text-[#ba0108] transition-all duration-300 whitespace-nowrap {{ if eq .RelPermalink "/catalog/videoperedavachi-vtx/" }}active{{ end }}" role="menuitem">Відеопередавачі VTX</a>
            <a href="/catalog/esc/"
              class="dropdown-item flex-1 px-8 py-6 text-[#fefefe] lg:font-['Inter'] text-lg font-medium hover:text-[#ba0108] transition-all duration-300 whitespace-nowrap {{ if eq .RelPermalink "/catalog/esc/" }}active{{ end }}" role="menuitem">ESC</a>
          </div>
        </div>
      </div>
  
      <!-- FAQ -->
      <a href="/faq"
        class="nav-link lg:font-['Inter'] text-xl font-normal text-[#fefefe] hover:text-[#ba0108] transition-colors {{ if in .RelPermalink "/faq" }}active{{ end }}">FAQ</a>
  
      <!-- Knowledge Base -->
      <a href="/knowledge-base"
        class="nav-link lg:font-['Inter'] text-xl font-normal text-[#fefefe] hover:text-[#ba0108] transition-colors {{ if in .RelPermalink "/knowledge-base" }}active{{ end }}">База знань</a>
  
      <!-- Contact -->
      <a href="/contact"
        class="nav-link lg:font-['Inter'] text-xl font-normal text-[#fefefe] hover:text-[#ba0108] transition-colors {{ if in .RelPermalink "/contact" }}active{{ end }}">Контакти</a>
    </nav>
  
    <!-- Desktop contacts/lang -->
    <nav class="desktop-nav hidden items-baseline justify-center gap-[30px]">
      <a href="tel:(067) 298-29-29"
        class="flex items-center font-['Montserrat'] text-xl font-normal text-[#fefefe] hover:text-[#ba0108] transition-colors hidden lg:block"
        aria-label="Зателефонувати за номером (067) 298-29-29">(067) 298-29-29</a>
      <div class="flex gap-3 items-center justify-center text-xl language-switcher text-[#fefefe]">
        <button id="lang-ua" class="font-['Montserrat'] text-xl font-normal cursor-pointer {{ if eq .Site.Language.Lang "uk" }}text-[#ba0108] font-bold{{ else }}text-[#fefefe]{{ end }}" onclick="switchLanguage('ua')"
          aria-label="Перемкнути на українську мову" aria-pressed="{{ eq .Site.Language.Lang " uk" }}">UA</button>
        <div class="w-px h-6 bg-white/50" aria-hidden="true"></div>
        <button id="lang-en" class="font-['Montserrat'] text-xl font-normal cursor-pointer {{ if eq .Site.Language.Lang "en" }}text-[#ba0108] font-bold{{ else }}text-[#fefefe]{{ end }}" onclick="switchLanguage('en')"
          aria-label="Switch to English" aria-pressed="{{ eq .Site.Language.Lang " en" }}">EN</button>
      </div>
    </nav>

    <!-- Mobile Navigation -->
    <div class="flex gap-4 items-center mobile-nav">
      <button id="search-toggle-button" class="text-[#fefefe] hover:text-[#ba0108] transition-colors"
        aria-label="Відкрити пошук" aria-haspopup="true" aria-expanded="false">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true">
          <path
            d="M21 21L16.514 16.506M19 10.5C19 15.194 15.194 19 10.5 19C5.806 19 2 15.194 2 10.5C2 5.806 5.806 2 10.5 2C15.194 2 19 5.806 19 10.5Z"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </button>
      <button class="flex flex-col justify-center items-center space-y-1 w-8 h-8 hamburger" onclick="toggleMobileMenu()"
        aria-label="Відкрити мобільне меню" aria-expanded="false">
        <span class="block w-6 h-0.5 bg-white"></span>
        <span class="block w-6 h-0.5 bg-white"></span>
        <span class="block w-6 h-0.5 bg-white"></span>
      </button>
    </div>
  </div>

  <!-- Mobile Search Panel -->
  <div id="mobile-search-panel" class="py-[13px] px-[24px]" role="search">
    <div class="relative">
      <input type="text" placeholder="Пошук по сайту"
        class="w-full h-[41px] rounded-full font-['Montserrat'] border-0 pl-6 pr-[110px] text-lg outline-none bg-white text-black placeholder-gray-500"
        id="mobile-search-input" aria-label="Поле для пошуку" autocomplete="off" />
      <button
        class="absolute right-0 top-0 h-[41px] w-[100px] rounded-full bg-[#ba0108] flex items-center justify-center hover:bg-[#a00007]"
        aria-label="Почати пошук" id="mobile-search-button">
        <span class="text-[#fefefe] font-['Montserrat'] text-[13px]">Пошук</span>
      </button>
    </div>
    <div id="mobile-search-results" class="max-h-[60vh] overflow-y-auto mt-2"></div>
  </div>

  <!-- Mobile Menu Overlay -->
  <div id="mobileMenu" class="mobile-menu fixed inset-0 bg-[#020303] z-40 flex flex-col" role="dialog" aria-modal="true"
    aria-label="Мобільне меню">
    <div
      class="flex relative z-[12] justify-between items-center p-4 shadow-[0_2px_8px_rgba(255,255,255,0.4)] bg-[#020303]">
      <a href="/" class="text-xl font-normal text-[#fefefe] font-inter" aria-label="Karma - головна сторінка"><img
          src="/logo.png" alt="logo" width="108" height="25"></a>
      <button class="flex relative flex-col justify-center items-center w-12 h-12 cursor-pointer hamburger"
        onclick="toggleMobileMenu()" aria-label="Закрити мобільне меню">
        <span class="block absolute w-6 h-0.5 bg-white rotate-45" aria-hidden="true"></span>
        <span class="block absolute w-6 h-0.5 bg-white -rotate-45" aria-hidden="true"></span>
      </button>
    </div>
    <nav class="flex flex-col flex-1 items-center px-6 pt-[119px] space-y-6" role="navigation"
      aria-label="Мобільне меню">
      <div class="relative">
        <button onclick="toggleMobileCatalog()"
          class="w-full flex justify-center items-center text-[#fefefe] font-['Unbounded'] text-xl font-normal py-2 cursor-pointer"
          aria-expanded="false" aria-controls="mobile-catalog-submenu" aria-label="Каталог товарів">
          <span class="font-['Unbounded'] text-xl font-normal text-[#fefefe]">Каталог</span>
          <svg class="w-5 h-5 transition-transform transform mobile-catalog-arrow" fill="none" stroke="currentColor"
            viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div class="overflow-hidden max-h-0 opacity-0 transition-all duration-300 ease-in-out mobile-catalog-menu"
          id="mobile-catalog-submenu">
          <div class="flex flex-col items-center pl-4 mt-2 space-y-2">
            <a href="/catalog/politni-steky/"
              class="block text-[#fefefe]/80 font-['Unbounded'] text-lg py-2 hover:text-[#ba0108] transition-colors">Політні
              стеки</a>
            <a href="/catalog/videoperedavachi-vtx/"
              class="block text-[#fefefe]/80 font-['Unbounded'] text-lg py-2 hover:text-[#ba0108] transition-colors">Відеопередавачі
              VTX</a>
            <a href="/catalog/esc/"
              class="block text-[#fefefe]/80 font-['Unbounded'] text-lg py-2 hover:text-[#ba0108] transition-colors">ESC</a>
          </div>
        </div>
      </div>
      <a href="/faq"
        class="text-[#fefefe] font-['Unbounded'] text-xl font-normal hover:text-[#ba0108] transition-colors">FAQ</a>
      <a href="/knowledge-base"
        class="text-[#fefefe] font-['Unbounded'] text-xl font-normal hover:text-[#ba0108] transition-colors">База
        знань</a>
      <a href="/contact"
        class="text-[#fefefe] font-['Unbounded'] text-xl font-normal hover:text-[#ba0108] transition-colors">Контакти</a>
      <div class="flex absolute bottom-10 flex-col items-center">
        <a href="tel:(067) 298-29-29"
          class="block text-[#fefefe] font-['Montserrat'] text-xl font-normal mb-4 hover:text-[#ba0108] transition-colors">(067)
          298-29-29</a>
        <div class="flex gap-3 items-center text-2xl text-[#fefefe]">
          <button id="mobile-lang-ua"
            class="font-['Montserrat'] text-xl !font-normal cursor-pointer !text-[#ba0108] hover:text-[#ba0108]"
            onclick="switchLanguage('ua')" aria-label="Перемкнути на українську мову" aria-pressed="true">UA</button>
          <span aria-hidden="true">|</span>
          <button id="mobile-lang-en"
            class="font-['Montserrat'] text-xl !font-normal cursor-pointer !text-[#fefefe] hover:text-[#ba0108]"
            onclick="switchLanguage('en')" aria-label="Switch to English" aria-pressed="false">EN</button>
        </div>
      </div>
    </nav>
  </div>
</header>