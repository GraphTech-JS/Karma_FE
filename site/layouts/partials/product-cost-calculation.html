{{- /* Підтримує dict (context/product) або Page */ -}}
{{- $t := printf "%T" . -}}
{{- $isMap := in $t "map" -}}

{{- $ctx := . -}}
{{- $product := dict -}}
{{- if $isMap -}}
{{- with index . "context" }}{{ $ctx = . }}{{ end -}}
{{- with index . "product" }}{{ $product = . }}{{ end -}}
{{- else -}}
{{- $product = .Params -}}
{{- end -}}

{{- $productName := $product.name | default $ctx.Title | default (i18n "product.hero.title.fallback") -}}

<section class="overflow-hidden relative pt-[60px] lg:pt-[80px]" aria-labelledby="cost-calculation-heading">
  <div class="max-w-7xl relative z-[2] px-4 sm:px-6 lg:px-8 lg:mx-auto">
    <h2 id="cost-calculation-heading"
      class="font-[Unbounded] text-[24px] lg:text-[48px] font-medium text-center mb-[25px] uppercase text-black">
      {{ i18n "product.cost.title" }}
    </h2>

    <!-- Single Adaptive Layout -->
    <div class="grid grid-cols-1 gap-[40px] md:gap-[20px] mb-[40px] md:mb-[54px] sm:grid-cols-2 lg:grid-cols-3"
      role="list" aria-label='{{ i18n "product.cost.aria.list" (dict "product" $productName) }}'>

      <!-- Table 1 -->
      <article class="bg-white rounded-[5px] overflow-hidden w-full h-[439px] mx-auto lg:h-auto"
        style="box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.1)" role="listitem">
        <div class="flex flex-col p-4 h-full lg:p-6">
          <h3
            class="font-[Montserrat] text-[24px] md:text-[16px] lg:text-[24px] font-semibold text-[#404040] text-center mb-4 lg:mb-6">
            {{ i18n "product.cost.table.title" | safeHTML }}
          </h3>

          <div class="flex flex-1 justify-center items-center lg:block">
            <table
              class="w-full h-[305px] border-separate border-spacing-0 border border-black rounded-[5px] overflow-hidden lg:h-auto"
              role="table" aria-label='{{ i18n "product.cost.table1.aria" }}'>
              <caption class="sr-only">
                {{ i18n "product.cost.table1.caption" (dict "product" $productName) }}
              </caption>
              <thead>
                <tr>
                  <th
                    class="font-[Inter] text-[16px] font-medium text-left border-r border-black border-b border-black w-[100px]">
                  </th>
                  <th
                    class="font-[Inter] text-[16px] font-medium text-center border-r border-black border-b border-black w-[100px] text-[#020303]">
                    {{ i18n "product.cost.table.warehouse" }}
                  </th>
                  <th
                    class="font-[Inter] text-[16px] font-medium text-center border-b border-black w-[100px] text-[#020303]">
                    {{ i18n "product.cost.table.contracting" }}
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td
                    class="font-[Inter] text-[16px] font-medium border-r border-black border-b border-black w-[100px] text-center text-[#020303]">
                    1+</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center border-r border-black border-b border-black w-[100px]">
                    100%</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal py-2 px-2 text-center border-b border-black w-[100px]">
                  </td>
                </tr>
                <tr>
                  <td
                    class="font-[Inter] text-[16px] font-medium py-2 px-2 border-r border-black border-b border-black w-[100px] text-center text-[#020303]">
                    100+</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center border-r border-black border-b border-black w-[100px]">
                    93%</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center border-b border-black w-[100px]">
                    80%</td>
                </tr>
                <tr>
                  <td
                    class="font-[Inter] text-[16px] font-medium py-2 px-2 border-r border-black border-b border-black w-[100px] text-center text-[#020303]">
                    1000+</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center border-r border-black border-b border-black w-[100px]">
                    85%</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center border-b border-black w-[100px]">
                    75%</td>
                </tr>
                <tr>
                  <td
                    class="font-[Inter] text-[16px] font-medium py-2 px-2 border-r border-black border-b border-black w-[100px] text-center text-[#020303]">
                    3000+</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center border-r border-black border-b border-black w-[100px]">
                    78%</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center border-b border-black w-[100px]">
                    70%</td>
                </tr>
                <tr>
                  <td
                    class="font-[Inter] text-[16px] font-medium py-2 px-2 border-r border-black w-[100px] text-center text-[#020303]">
                    10 000+</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal py-2 px-2 text-center border-r border-black w-[100px]">
                  </td>
                  <td class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center w-[100px]">
                    65%</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </article>

      <!-- Table 2 -->
      <article class="bg-white rounded-[5px] overflow-hidden w-full h-[439px] mx-auto lg:h-auto"
        style="box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.1)" role="listitem">
        <div class="flex flex-col p-4 h-full lg:p-6">
          <h3
            class="font-[Montserrat] text-[24px] md:text-[16px] lg:text-[24px] font-semibold text-[#404040] text-center mb-4 lg:mb-6">
            {{ i18n "product.cost.table.title" | safeHTML }}
          </h3>

          <div class="flex flex-1 justify-center items-center lg:block">
            <table
              class="w-full h-[305px] border-separate border-spacing-0 border border-black rounded-[5px] overflow-hidden lg:h-auto"
              role="table" aria-label='{{ i18n "product.cost.table2.aria" }}'>
              <caption class="sr-only">
                {{ i18n "product.cost.table2.caption" (dict "product" $productName) }}
              </caption>
              <thead>
                <tr>
                  <th
                    class="font-[Inter] text-[16px] font-medium text-left border-r border-black border-b border-black w-[100px]">
                  </th>
                  <th
                    class="font-[Inter] text-[16px] font-medium text-center border-r border-black border-b border-black w-[100px] text-[#020303]">
                    {{ i18n "product.cost.table.warehouse" }}
                  </th>
                  <th
                    class="font-[Inter] text-[16px] font-medium text-center border-b border-black w-[100px] text-[#020303]">
                    {{ i18n "product.cost.table.contracting" }}
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td
                    class="font-[Inter] text-[16px] font-medium py-2 px-2 border-r border-black border-b border-black w-[100px] text-center text-[#020303]">
                    1+</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center border-r border-black border-b border-black w-[100px]">
                    100%</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal py-2 px-2 text-center border-b border-black w-[100px]">
                  </td>
                </tr>
                <tr>
                  <td
                    class="font-[Inter] text-[16px] font-medium py-2 px-2 border-r border-black border-b border-black w-[100px] text-center text-[#020303]">
                    100+</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center border-r border-black border-b border-black w-[100px]">
                    93%</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center border-b border-black w-[100px]">
                    80%</td>
                </tr>
                <tr>
                  <td
                    class="font-[Inter] text-[16px] font-medium py-2 px-2 border-r border-black border-b border-black w-[100px] text-center text-[#020303]">
                    1000+</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center border-r border-black border-b border-black w-[100px]">
                    85%</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center border-b border-black w-[100px]">
                    75%</td>
                </tr>
                <tr>
                  <td
                    class="font-[Inter] text-[16px] font-medium py-2 px-2 border-r border-black border-b border-black w-[100px] text-center text-[#020303]">
                    3000+</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center border-r border-black border-b border-black w-[100px]">
                    78%</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center border-b border-black w-[100px]">
                    70%</td>
                </tr>
                <tr>
                  <td
                    class="font-[Inter] text-[16px] font-medium py-2 px-2 border-r border-black w-[100px] text-center text-[#020303]">
                    10 000+</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal py-2 px-2 text-center border-r border-black w-[100px]">
                  </td>
                  <td class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center w-[100px]">
                    65%</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </article>

      <!-- Table 3 -->
      <article class="bg-white rounded-[5px] overflow-hidden w-full h-[439px] mx-auto lg:h-auto"
        style="box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.1)" role="listitem">
        <div class="flex flex-col p-4 h-full lg:p-6">
          <h3
            class="font-[Montserrat] text-[24px] md:text-[16px] lg:text-[24px] font-semibold text-[#404040] text-center mb-4 lg:mb-6">
            {{ i18n "product.cost.table.title" | safeHTML }}
          </h3>

          <div class="flex flex-1 justify-center items-center lg:block">
            <table
              class="w-full h-[305px] border-separate border-spacing-0 border border-black rounded-[5px] overflow-hidden lg:h-auto"
              role="table" aria-label='{{ i18n "product.cost.table3.aria" }}'>
              <caption class="sr-only">
                {{ i18n "product.cost.table3.caption" (dict "product" $productName) }}
              </caption>
              <thead>
                <tr>
                  <th
                    class="font-[Inter] text-[16px] font-medium text-center border-r border-black border-b border-black w-[100px]">
                  </th>
                  <th
                    class="font-[Inter] text-[16px] font-medium text-center border-r border-black border-b border-black w-[100px] text-[#020303]">
                    {{ i18n "product.cost.table.warehouse" }}
                  </th>
                  <th
                    class="font-[Inter] text-[16px] font-medium text-center border-b border-black w-[100px] text-[#020303]">
                    {{ i18n "product.cost.table.contracting" }}
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td
                    class="font-[Inter] text-[16px] font-medium py-2 px-2 border-r border-black border-b border-black w-[100px] text-center text-[#020303]">
                    1+</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center border-r border-black border-b border-black w-[100px]">
                    100%</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal py-2 px-2 text-center border-b border-black w-[100px]">
                  </td>
                </tr>
                <tr>
                  <td
                    class="font-[Inter] text-[16px] font-medium py-2 px-2 border-r border-black border-b border-black w-[100px] text-center text-[#020303]">
                    100+</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center border-r border-black border-b border-black w-[100px]">
                    93%</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center border-b border-black w-[100px]">
                    80%</td>
                </tr>
                <tr>
                  <td
                    class="font-[Inter] text-[16px] font-medium py-2 px-2 border-r border-black border-b border-black w-[100px] text-center text-[#020303]">
                    1000+</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center border-r border-black border-b border-black w-[100px]">
                    85%</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center border-b border-black w-[100px]">
                    75%</td>
                </tr>
                <tr>
                  <td
                    class="font-[Inter] text-[16px] font-medium py-2 px-2 border-r border-black border-b border-black w-[100px] text-center text-[#020303]">
                    3000+</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center border-r border-black border-b border-black w-[100px]">
                    78%</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center border-b border-black w-[100px]">
                    70%</td>
                </tr>
                <tr>
                  <td
                    class="font-[Inter] text-[16px] font-medium py-2 px-2 border-r border-black w-[100px] text-center text-[#020303]">
                    10 000+</td>
                  <td
                    class="font-[Montserrat] text-[16px] font-normal py-2 px-2 text-center border-r border-black w-[100px]">
                  </td>
                  <td class="font-[Montserrat] text-[16px] font-normal text-[#404040] py-2 px-2 text-center w-[100px]">
                    65%</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </article>
    </div>

    <!-- Bottom text and button -->
    <div class="text-center">
      <p class="font-[Montserrat] text-[16px] md:text-[20px] mb-[25px] text-center text-black">
        {{ i18n "product.cost.note" }}
      </p>

      <button aria-label='{{ i18n "product.cost.aria.cta" }}'
        class="product-hero-button cursor-pointer !font-[Montserrat] text-[20px] lg:text-[24px] !text-white bg-[#ba0108] hover:bg-[#e39599] transition-colors w-full md:w-[549px] lg:w-[586px] h-[71px] lg:h-[55px] rounded-[5px] md:rounded-[20px]">
        <a href='{{ "/contact/" | relLangURL }}'>{{ i18n "product.cost.cta" }}</a>
      </button>
    </div>
  </div>
</section>