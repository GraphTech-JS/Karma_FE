{{ define "main" }}
{{- $categorySlug := .File.BaseFileName -}}
{{- $categoryData := index .Site.Data.products.categories $categorySlug -}}

<!-- Hero Section -->
<section class="overflow-hidden relative py-16 bg-white px-0 lg:px-[40px]">
  <!-- Background decorative elements -->
  <div class="absolute top-0 right-0 opacity-30">
    <img src="/img/bg-el-1.png" alt="" class="lg:w-[300px] max-[450px]:w-[150px] h-auto" />
  </div>
  <div class="absolute bottom-0 left-0 opacity-30">
    <img src="/img/bg-el-2.png" alt="" class="lg:w-[250px] max-[450px]:w-[120px] h-auto" />
  </div>

  <div class="max-w-[1237px] mx-auto px-5 relative z-10">
    <div class="flex lg:flex-row max-[420px]:flex-col items-center gap-12">
      <!-- Left Content -->
      <div class="lg:w-1/2 max-[450px]:w-full">
        <!-- Breadcrumb -->
        <div class="flex items-center mb-6 text-sm">
          <a href="/"
            class="text-[#ba0108] hover:text-[#9a0106] transition-colors font-['Montserrat'] lg:text-[20px] max-[450px]:text-[16px]">Головна</a>
          <span class="mx-2 text-[#ba0108]">→</span>
          <span class="text-[#ba0108] font-['Montserrat'] lg:text-[20px] max-[450px]:text-[16px]">{{ $categoryData.name
            }}</span>
        </div>

        <!-- Main Title -->
        <h2 class="lg:text-[48px] max-[450px]:text-[28px] font-['Unbounded'] font-bold text-black mb-6 hero-title">
          {{ upper $categoryData.name }}
        </h2>

        <!-- Description -->
        <p class="lg:text-[18px] max-[450px]:text-[16px] font-['Montserrat'] text-gray-700 mb-6 leading-relaxed">
          Компактна та продуктивна інтегрована система для дронів, що об'єднує польотний контролер (FC) на базі
          потужного мікроконтролера STM32F405 та регулятор швидкості (ESC) 4-в-1 з підтримкою до 20А (25А пікового).
        </p>

        <p class="lg:text-[18px] max-[450px]:text-[16px] font-['Montserrat'] text-gray-700 mb-8 leading-relaxed">
          Завдяки своїм невеликим розмірам та високій функціональності, включаючи вбудований OSD, а часто також барометр
          і "чорний ящик", він є ідеальним вибором для створення легких та маневрених FPV-дронів
        </p>

        <button
          class="bg-[#ba0108] text-white px-8 py-4 rounded-full font-['Montserrat'] lg:text-[18px] max-[450px]:text-[16px] font-medium hover:bg-[#a00007] transition-colors">
          Отримати пропозицію
        </button>
      </div>

      <!-- Right Image -->
      <div class="lg:w-1/2 max-[450px]:w-full flex justify-center">
        <img src="/img/our-product1.png" alt="{{ $categoryData.name }}"
          class="w-full max-w-[500px] h-auto object-contain" />
      </div>
    </div>
  </div>
</section>

{{ partial "our-products-section.html" (dict "category" $categorySlug "context" .) }}

<!-- Product Description Section -->
<section class="bg-[#f9f9f9] py-16">
  <div class="max-w-[1237px] mx-auto px-5">
    <div class="flex lg:flex-row max-[420px]:flex-col items-center gap-12">
      <!-- Left Content -->
      <div class="lg:w-1/2 max-[450px]:w-full">
        <!-- Breadcrumb -->
        <div class="flex items-center mb-6 text-sm">
          <a href="/" class="text-[#ba0108] hover:text-[#9a0106] transition-colors font-['Montserrat']">Головна</a>
          <span class="mx-2 text-[#ba0108]">→</span>
          <span class="text-[#ba0108] font-['Montserrat']">{{ $categoryData.name }}</span>
        </div>

        <h2 class="lg:text-[48px] max-[450px]:text-[28px] font-['Unbounded'] font-bold mb-6 hero-title">
          {{ upper $categoryData.name }}
        </h2>

        <p class="lg:text-[18px] max-[450px]:text-[16px] font-['Montserrat'] text-gray-700 mb-6 leading-relaxed">
          Компактна та продуктивна інтегрована система для дронів, що об'єднує польотний контролер (FC) на базі
          потужного мікроконтролера STM32F405 та регулятор швидкості (ESC) 4-в-1 з підтримкою до 20А (25А пікового).
        </p>

        <p class="lg:text-[18px] max-[450px]:text-[16px] font-['Montserrat'] text-gray-700 mb-8 leading-relaxed">
          Завдяки своїм невеликим розмірам та високій функціональності, включаючи вбудований OSD, а часто також барометр
          і "чорний ящик", він є ідеальним вибором для створення легких та маневрених FPV-дронів
        </p>

        <button
          class="bg-[#ba0108] text-white px-8 py-4 rounded-full font-['Montserrat'] lg:text-[18px] max-[450px]:text-[16px] font-medium hover:bg-[#a00007] transition-colors">
          Отримати пропозицію
        </button>
      </div>

      <!-- Right Image -->
      <div class="lg:w-1/2 max-[450px]:w-full flex justify-center">
        <img src="/img/our-product1.png" alt="{{ $categoryData.name }}"
          class="w-full max-w-[400px] h-auto object-contain" />
      </div>
    </div>
  </div>
</section>

<style>
  @keyframes fadeInUp {
    0% {
      opacity: 0;
      transform: translateY(30px);
    }

    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .hero-title {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.6s ease-out;
  }

  .hero-title.animate {
    animation: fadeInUp 0.8s ease-out forwards;
  }
</style>

<script>
  // Hero title animation
  function animateHeroTitle() {
    const heroTitles = document.querySelectorAll('.hero-title');

    const observerOptions = {
      threshold: 0.3,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate');
        } else {
          entry.target.classList.remove('animate');
        }
      });
    }, observerOptions);

    heroTitles.forEach(title => {
      observer.observe(title);
    });
  }

  // Initialize when DOM is loaded
  document.addEventListener('DOMContentLoaded', animateHeroTitle);
</script>

{{ end }}