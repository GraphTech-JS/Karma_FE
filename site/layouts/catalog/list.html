{{ define "main" }}
{{- $categorySlug := .File.BaseFileName -}}
{{- $categoryData := index .Site.Data.products.categories $categorySlug -}}

<!-- Hero Section -->
<section class="overflow-hidden relative py-16 bg-white px-0 lg:px-[40px]">
  <!-- Background decorative elements -->
  <div class="absolute top-0 right-0 opacity-30">
    <img src="/img/bg-el-1.png" alt="" class="lg:w-[300px] max-[420px]:w-[150px] h-auto" />
  </div>
  <div class="absolute bottom-0 left-0 opacity-30">
    <img src="/img/bg-el-2.png" alt="" class="lg:w-[250px] max-[420px]:w-[120px] h-auto" />
  </div>

  <div class="max-w-[1237px] mx-auto relative z-10">
    <div class="flex lg:flex-row max-[420px]:flex-col items-center gap-12">
      <!-- Left Content -->
      <div class="lg:w-1/2 max-[420px]:w-full">
        <!-- Breadcrumb -->
        <div class="flex items-center mb-6 text-sm">
          <a href="/"
            class="text-[#ba0108] hover:text-[#9a0106] transition-colors font-['Montserrat'] lg:text-[20px] max-[420px]:text-[16px]">Головна</a>
          <span class="mx-2 text-[#ba0108]">→</span>
          <span class="text-[#ba0108] font-['Montserrat'] lg:text-[20px] max-[420px]:text-[16px]">{{ $categoryData.name
            }}</span>
        </div>

        <!-- Main Title -->
        <h1 class="lg:text-[48px] max-[420px]:text-[28px] font-['Unbounded'] font-bold text-black mb-6 hero-title">
          {{ upper $categoryData.name }}
        </h1>

        <!-- Description -->
        <p class="lg:text-[18px] max-[420px]:text-[16px] font-['Montserrat'] text-gray-700 mb-6 leading-relaxed">
          Компактна та продуктивна інтегрована система для дронів, що об'єднує польотний контролер (FC) на базі
          потужного мікроконтролера STM32F405 та регулятор швидкості (ESC) 4-в-1 з підтримкою до 20А (25А пікового).
        </p>

        <p class="lg:text-[18px] max-[420px]:text-[16px] font-['Montserrat'] text-gray-700 mb-8 leading-relaxed">
          Завдяки своїм невеликим розмірам та високій функціональності, включаючи вбудований OSD, а часто також барометр
          і "чорний ящик", він є ідеальним вибором для створення легких та маневрених FPV-дронів
        </p>

        <button
          class="bg-[#ba0108] text-white px-8 py-4 rounded-full font-['Montserrat'] lg:text-[18px] max-[420px]:text-[16px] font-medium hover:bg-[#a00007] transition-colors">
          Отримати пропозицію
        </button>
      </div>

      <!-- Right Image -->
      <div class="lg:w-1/2 max-[420px]:w-full flex justify-center">
        <img src="/img/our-product1.png" alt="{{ $categoryData.name }}"
          class="w-full max-w-[500px] h-auto object-contain" />
      </div>
    </div>
  </div>
</section>

<!-- Products Section -->
<section class="py-16 bg-white">
  <div class="max-w-[1237px] mx-auto px-5">
    <h2 class="lg:text-[48px] max-[420px]:text-[28px] font-['Unbounded'] font-bold text-center mb-12 hero-title">
      <span class="text-[#ba0108]">Н</span>АШІ ТОВАРИ
    </h2>

    <!-- Products Grid -->
    <div class="grid lg:grid-cols-2 max-[420px]:grid-cols-1 gap-8 justify-items-center">
      {{ range $categoryData.products }}
      <div
        class="bg-white w-full max-w-[500px] rounded-[10px] shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl">
        <!-- Product Image -->
        <div class="h-[300px] overflow-hidden bg-gray-100 flex items-center justify-center">
          <img src="{{ .image }}" alt="{{ .alt }}" class="object-contain p-4 w-full h-full" />
        </div>

        <!-- Product Info -->
        <div class="p-6">
          <h3 class="lg:text-[24px] max-[420px]:text-[18px] font-['Unbounded'] font-bold text-center mb-6">
            {{ .name }}
          </h3>

          <!-- Specifications -->
          <div class="mb-6 space-y-3">
            {{ range .specs }}
            <div class="flex justify-between items-center py-2 border-b border-gray-200">
              <span class="font-['Montserrat'] lg:text-[16px] max-[420px]:text-[14px] text-gray-600">{{ .label }}</span>
              <span class="font-['Montserrat'] lg:text-[16px] max-[420px]:text-[14px] font-medium">{{ .value }}</span>
            </div>
            {{ end }}
          </div>

          <!-- Action Button -->
          <div class="text-center">
            <button
              class="bg-[#ba0108] text-white px-8 py-3 rounded-full font-['Montserrat'] lg:text-[16px] max-[420px]:text-[14px] font-medium hover:bg-[#a00007] transition-colors">
              Отримати пропозицію
            </button>
          </div>
        </div>
      </div>
      {{ end }}
    </div>
  </div>
</section>

<!-- Product Description Section -->
<section class="bg-[#f9f9f9] py-16">
  <div class="max-w-[1237px] mx-auto">
    <div class="flex lg:flex-row max-[420px]:flex-col items-center gap-12">
      <!-- Left Content -->
      <div class="lg:w-1/2 max-[420px]:w-full">
        <!-- Breadcrumb -->
        <div class="flex items-center mb-6 text-sm">
          <a href="/" class="text-[#ba0108] hover:text-[#9a0106] transition-colors font-['Montserrat']">Головна</a>
          <span class="mx-2 text-[#ba0108]">→</span>
          <span class="text-[#ba0108] font-['Montserrat']">{{ $categoryData.name }}</span>
        </div>

        <h2 class="lg:text-[48px] max-[420px]:text-[28px] font-['Unbounded'] font-bold mb-6 hero-title">
          {{ upper $categoryData.name }}
        </h2>

        <p class="lg:text-[18px] max-[420px]:text-[16px] font-['Montserrat'] text-gray-700 mb-6 leading-relaxed">
          Компактна та продуктивна інтегрована система для дронів, що об'єднує польотний контролер (FC) на базі
          потужного мікроконтролера STM32F405 та регулятор швидкості (ESC) 4-в-1 з підтримкою до 20А (25А пікового).
        </p>

        <p class="lg:text-[18px] max-[420px]:text-[16px] font-['Montserrat'] text-gray-700 mb-8 leading-relaxed">
          Завдяки своїм невеликим розмірам та високій функціональності, включаючи вбудований OSD, а часто також барометр
          і "чорний ящик", він є ідеальним вибором для створення легких та маневрених FPV-дронів
        </p>

        <button
          class="bg-[#ba0108] text-white px-8 py-4 rounded-full font-['Montserrat'] lg:text-[18px] max-[420px]:text-[16px] font-medium hover:bg-[#a00007] transition-colors">
          Отримати пропозицію
        </button>
      </div>

      <!-- Right Image -->
      <div class="lg:w-1/2 max-[420px]:w-full flex justify-center">
        <img src="/img/our-product1.png" alt="{{ $categoryData.name }}"
          class="w-full max-w-[400px] h-auto object-contain" />
      </div>
    </div>
  </div>
</section>

<style>
  @keyframes fadeInUp {
    0% {
      opacity: 0;
      transform: translateY(30px);
    }

    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .hero-title {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.6s ease-out;
  }

  .hero-title.animate {
    animation: fadeInUp 0.8s ease-out forwards;
  }
</style>

<script>
  // Hero title animation
  function animateHeroTitle() {
    const heroTitles = document.querySelectorAll('.hero-title');

    const observerOptions = {
      threshold: 0.3,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate');
        } else {
          entry.target.classList.remove('animate');
        }
      });
    }, observerOptions);

    heroTitles.forEach(title => {
      observer.observe(title);
    });
  }

  // Initialize when DOM is loaded
  document.addEventListener('DOMContentLoaded', animateHeroTitle);
</script>

{{ end }}