backend:
  name: git-gateway
  branch: main

# publish_mode: editorial_workflow # Увімкнути за потреби модерації

local_backend: true

media_folder: "site/static/img"
public_folder: "/img"

i18n:
  structure: multiple_files
  locales: [uk, en]
  default_locale: "en" 

collections:
  - name: "categories"
    label: "Категорії"
    folder: "site/content/categories"
    create: true
    i18n: true
    slug: "{{fields.title}}" 
    fields:
      - { label: "Назва категорії", name: "title", widget: "string", i18n: true }
      - { label: "URL (автоматично)", name: "slug", widget: "hidden", required: false, i18n: "duplicate" }
      - { label: "Опис", name: "description", widget: "text", i18n: true }
      - label: "Альтернативні назви"
        name: "aliases"
        widget: "list"
        required: false
        i18n: true
        hint: "Додайте альтернативні назви для пошуку (мінімум 1)"
        field: { label: "Альтернативна назва", name: "alias", widget: "string", i18n: true }
      - { label: "Вага сортування", name: "weight", widget: "number", default: 1, i18n: "duplicate" }

  - name: "products"
    label: "Товари"
    folder: "site/content/catalog"
    create: true
    i18n: true
    slug: "{{fields.title}}" 
    fields:
      - { label: "Назва товару", name: "title", widget: "string", i18n: true }
      - { label: "URL (автоматично)", name: "slug", widget: "hidden", required: false, i18n: "duplicate" }
      - { label: "Опис", name: "description", widget: "text", i18n: true }
      - { label: "Дата створення", name: "date", widget: "datetime", i18n: "duplicate" }
      - label: "Категорія"
        name: "category"
        widget: "relation"
        collection: "categories"
        search_fields: ["title", "aliases"]  
        value_field: "{{slug}}"              
        display_fields: ["title"]
        i18n: true
      - { label: "ID товару", name: "product_id", widget: "string", i18n: "duplicate" }
      - { label: "Зображення", name: "image", widget: "image", i18n: "duplicate" }
      - { label: "Ціна", name: "price", widget: "number", i18n: "duplicate" }
      - { label: "Валюта", name: "currency", widget: "select", options: ["грн", "USD", "EUR"], default: "грн", i18n: "duplicate" }
      - { label: "В наявності", name: "in_stock", widget: "boolean", default: true, i18n: "duplicate" }
      - label: "Характеристики"
        name: "specs"
        widget: "list"
        i18n: true
        fields:
          - { label: "Назва", name: "label", widget: "string", i18n: true }
          - { label: "Значення", name: "value", widget: "string", i18n: true }
      - { label: "Детальний опис", name: "body", widget: "markdown", i18n: true }
      - { label: "Чернетка", name: "draft", widget: "boolean", default: false, i18n: true }

  - name: "knowledge-base"
    label: "База знань"
    folder: "site/content/guides"
    create: true
    i18n: true
    slug: "{{fields.title}}"
    fields:
      - { label: "Назва", name: "title", widget: "string", i18n: true }
      - { label: "URL (автоматично)", name: "slug", widget: "hidden", required: false, i18n: "duplicate" }
      - { label: "Опис", name: "description", widget: "text", i18n: true }
      - { label: "Дата публікації", name: "date", widget: "datetime", i18n: "duplicate" }
      - label: "Категорія"
        name: "category"
        widget: "relation"
        collection: "categories"
        search_fields: ["title", "aliases"]   
        value_field: "{{slug}}"               
        display_fields: ["title"]
        i18n: true
      - label: "Теги"
        name: "tags"
        widget: "list"
        i18n: true
        required: false
        field: { label: "Тег", name: "tag", widget: "string", i18n: true }
      - { label: "Зображення", name: "image", widget: "image", required: false, i18n: true }
      - { label: "Чернетка", name: "draft", widget: "boolean", default: false, i18n: true }
      - { label: "Контент", name: "body", widget: "markdown", i18n: true }

  - name: "post"
    label: "Post"
    folder: "site/content/post"
    create: true
    i18n: true
    slug: "{{fields.title}}"
    fields:
      - { label: "Title", name: "title", widget: "string", i18n: true }
      - { label: "URL (автоматично)", name: "slug", widget: "hidden", required: false, i18n: "duplicate" }
      - { label: "Publish Date", name: "date", widget: "datetime", i18n: true }
      - { label: "Intro Blurb", name: "description", widget: "text", i18n: true }
      - { label: "Image", name: "image", widget: "image", required: false, i18n: "duplicate" }
      - { label: "Body", name: "body", widget: "markdown", i18n: true }

  - name: "pages"
    label: "Pages"
    files:
      - file: "site/content/_index.uk.md"
        label: "Home Page"
        name: "home"
        fields:
          - { label: Title, name: title, widget: string, i18n: true }
          - { label: Subtitle, name: subtitle, widget: string, i18n: true }
          - { label: Image, name: image, widget: image, i18n: "duplicate" }
          - label: "Blurb"
            name: blurb
            widget: object
            i18n: true
            fields:
              - { label: "Heading", name: heading, widget: string, i18n: true }
              - { label: "Text", name: text, widget: "text", i18n: true }
          - label: "Intro"
            name: intro
            widget: object
            i18n: true
            fields:
              - { label: "Heading", name: heading, widget: string, i18n: true }
              - { label: "Text", name: text, widget: "text", i18n: true }
          - label: "Products"
            name: products
            widget: list
            i18n: true
            fields:
              - { label: "Image", name: image, widget: image, i18n: "duplicate" }
              - { label: "Text", name: text, widget: "text", i18n: true }
          - label: "Values"
            name: values
            widget: object
            i18n: true
            fields:
              - { label: "Heading", name: heading, widget: string, i18n: true }
              - { label: "Text", name: text, widget: "text", i18n: true }

  - name: "faq_pages"
    label: "FAQ"
    folder: "site/content/faq"
    create: true
    i18n: true
    slug: "{{fields.title}}" 
    fields:
      - { label: "Головний заголовок сторінки", name: "title", widget: "string", i18n: true }
      - { label: "URL (автоматично)", name: "slug", widget: "hidden", required: false, i18n: "duplicate" }
      - { label: "Опис під заголовком", name: "description", widget: "text", i18n: true }
      - label: "Група 'Загальні питання'"
        name: "general_questions"
        widget: "object"
        i18n: true
        fields:
          - { label: "Заголовок групи", name: "title", widget: "string", i18n: true }
          - label: "Список питань"
            name: "questions"
            widget: "list"
            i18n: true
            fields:
              - { label: "Питання", name: "question", widget: "string", i18n: true }
              - { label: "Відповідь", name: "answer", widget: "markdown", i18n: true }